# ToDo List

## DB設計・リポジトリ・ユースケース・DTO・マッパー関連


## マップの表示


## トップ画面


## アカウント管理


## グループ管理


## メンバー管理画面


## グループ管理画面


## グループ年表画面


## 旅行管理画面


## 地図画面


## マップピンボトムシート


## 招待機能

- 招待コードで紐づけたmemberを更新した後、使用済み招待コードのレコードは削除する
- 作成から24時間経過した招待コードは無効とする

## グループイベント

- グループ年表のグループイベント行にgroup_eventsのデータを表示する
- 年表セルのタップでフリー入力メモのダイアログを開き、グループイベントを編集できるようにする
- グループイベントの仕様に合わせて設計および実装を更新する
  - ER図のgroup_events定義をフリー入力のみとする仕様に合わせて見直す
  - ER図の修正に合わせてエンティティやリポジトリ等を改修する

## DVCポイント計算画面

- DVCポイント計算画面レイアウト
  - タイトル表示の見た目はグループ年表画面と合わせる
  - 画面上部に、"契約管理"、"期間限定ポイント登録"のアイコンボタンを表示
  - DVCポイント計算の表を表示
- DVCポイント計算画面内で契約管理（ユーザーストーリー16）を実装する
  - DVCポイント計算画面内のボタンからダイアログで登録する（登録内容はdvc_point_contractsに準拠）
  - 契約登録後にDVCポイント計算画面内のポイント数を再計算する
- DVCポイント計算画面（ユーザーストーリー17）を実装する
  - 年月テーブルを表示する（1行目: 年、2行目: 月、3行目: 利用可能ポイント、4行目: 利用登録済ポイント）
  - 初期表示範囲は現在月を基準に前後5年とし、"さらに表示"で表示範囲を拡張できる(グループ年表と同様の仕組み)
  - 同一年の月は年セルを列結合して表示する
  - 各月の開始時点の利用可能ポイントを計算して表示する（前月末時点までの利用登録を反映）
  - ユースイヤー基準で有効期限を判定して計算する（有効期限は付与月の1年前〜1年後）
  - 契約ごとに異なるユースイヤーを考慮して合算計算する
  - 4行目の利用登録済ポイントのセルの下部の＋ボタンよりダイアログでポイントの利用登録する(登録内容はdvc_point_usagesに準拠)
  - 利用可能ポイントの内訳表示する（契約ごとの残ポイント）
  - 利用登録済みポイントの内訳表示する（同月の登録ポイントとメモ）
  - 利用登録時は有効期限が早いポイントから自動消化する
  - 利用登録後に翌月以降の利用可能ポイントを再計算し、利用登録済みポイント表示を更新する
- DVCポイント計算画面（ユーザーストーリー18）を実装する
  - 期間限定ポイントの登録機能を実装する（登録内容はdvc_limited_pointsに準拠）
  - DVCポイント計算画面内のボタンからダイアログで登録する
  - 期間内は利用可能ポイント計算に期間限定ポイントを加算する
  - 通常ポイント、期間限定ポイントを区別せず、有効期限順で消化する

## デザイン


## 全体


## リファクタリング


## 不具合修正
