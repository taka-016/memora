<!-- omit in toc -->
# ユーザーストーリー

- [1. ユーザーとして、安全にアプリケーションにアクセスしたい。大切な家族の記録を守りたいから](#1-ユーザーとして安全にアプリケーションにアクセスしたい大切な家族の記録を守りたいから)
- [2. ユーザーとして、家族や友人をアプリに招待したい。家族や友人と記録を共有したいから](#2-ユーザーとして家族や友人をアプリに招待したい家族や友人と記録を共有したいから)
- [3. ユーザーとして、グループを作成したい。友人や家族と記録を共有したいから](#3-ユーザーとしてグループを作成したい友人や家族と記録を共有したいから)
- [4. ユーザーとして、作成したグループには必ず自分を所属させたい。自分が所属しないグループを管理することはないから](#4-ユーザーとして作成したグループには必ず自分を所属させたい自分が所属しないグループを管理することはないから)
- [5. ユーザーとして、作成したグループを管理したい。グループ情報を最新に保ちたいから](#5-ユーザーとして作成したグループを管理したいグループ情報を最新に保ちたいから)
- [6. ユーザーとして、メンバーを作成したい。グループに誰が入っているかを管理したいから](#6-ユーザーとしてメンバーを作成したいグループに誰が入っているかを管理したいから)
- [7. ユーザーとして、作成したメンバーを管理したい。メンバー情報を最新に保ちたいから](#7-ユーザーとして作成したメンバーを管理したいメンバー情報を最新に保ちたいから)
- [8. ユーザーとして、年表形式でグループの旅行、イベント、メンバー別のイベントを見たい。時系列でグループの記録を整理したいから](#8-ユーザーとして年表形式でグループの旅行イベントメンバー別のイベントを見たい時系列でグループの記録を整理したいから)
- [9. ユーザーとして、自分の管理外で自分が入っているグループの年表も見たい。別の人がグループを作ることもあるから](#9-ユーザーとして自分の管理外で自分が入っているグループの年表も見たい別の人がグループを作ることもあるから)
- [10. ユーザーとして、年表から旅行を管理したい。旅行は年別に分かれていると整理しやすいから](#10-ユーザーとして年表から旅行を管理したい旅行は年別に分かれていると整理しやすいから)
- [11. ユーザーとして、旅行で訪問する場所を登録したい。地図上で旅行した場所を確認したいから](#11-ユーザーとして旅行で訪問する場所を登録したい地図上で旅行した場所を確認したいから)
- [12. ユーザーとして、旅行で訪問する場所間の移動経路を確認したい。旅行の計画を立てやすくしたいから](#12-ユーザーとして旅行で訪問する場所間の移動経路を確認したい旅行の計画を立てやすくしたいから)
- [13. ユーザーとして、旅行先を地図で確認したい。場所を視覚的に把握したいから](#13-ユーザーとして旅行先を地図で確認したい場所を視覚的に把握したいから)
- [14. ユーザーとして、同じ場所の過去の記録を見たい。お気に入りの場所は何度も訪れることがあるから](#14-ユーザーとして同じ場所の過去の記録を見たいお気に入りの場所は何度も訪れることがあるから)
- [15. ユーザーとして、同一の旅行で訪問した場所をまとめて表示したい。旅行の全体像を把握したいから](#15-ユーザーとして同一の旅行で訪問した場所をまとめて表示したい旅行の全体像を把握したいから)
- [16. ユーザーとして、地図表示からも旅行情報を編集したい。場所から旅行を探すこともあるから](#16-ユーザーとして地図表示からも旅行情報を編集したい場所から旅行を探すこともあるから)
- [17. ユーザーとして、過去の旅行を検索したい。年表から探し出すのは大変だから](#17-ユーザーとして過去の旅行を検索したい年表から探し出すのは大変だから)
- [18. ユーザーとして、年表からイベントを作成したい。イベントは年別に分かれていると整理しやすいから](#18-ユーザーとして年表からイベントを作成したいイベントは年別に分かれていると整理しやすいから)

## 1. ユーザーとして、安全にアプリケーションにアクセスしたい。大切な家族の記録を守りたいから

```gherkin
Scenario: Google認証でログイン
  Given ユーザーがログイン画面にアクセスしている
  When ユーザーがGoogle認証ボタンをタップする
  Then Googleの認証画面が表示される
  When ユーザーが有効なGoogleアカウントで認証する
  Then ユーザーはトップページにリダイレクトされる
  And ログイン状態が保持される

Scenario: メールアドレスとパスワードでログイン
  Given ユーザーがログイン画面にアクセスしている
  When ユーザーが有効なメールアドレスとパスワードを入力する
  And ログインボタンをタップする
  Then ユーザーはトップページにリダイレクトされる
  And ログイン状態が保持される

Scenario: 無効な認証情報でログイン失敗
  Given ユーザーがログイン画面にアクセスしている
  When ユーザーが無効なメールアドレスまたはパスワードを入力する
  And ログインボタンをタップする
  Then エラーメッセージ「認証情報が正しくありません」が表示される
  And ログイン画面にとどまる

Scenario: パスワードポリシーの検証
  Given ユーザーがアカウント登録画面にアクセスしている
  When ユーザーが「password」のような弱いパスワードを入力する
  Then エラーメッセージ「パスワードは大文字、小文字、特殊文字、数字を含む8文字以上で入力してください」が表示される
  When ユーザーが「Password123!」のような強いパスワードを入力する
  Then エラーメッセージが消える

Scenario: ログアウト
  Given ユーザーがログイン済みの状態でアプリにアクセスしている
  When ユーザーがハンバーガーメニューからログアウトを選択する
  Then ユーザーはログイン画面にリダイレクトされる
  And ログイン状態が解除される
```

## 2. ユーザーとして、家族や友人をアプリに招待したい。家族や友人と記録を共有したいから

```gherkin
Scenario: 招待コードの生成
  Given ユーザーがログイン済みの状態でアプリにアクセスしている
  When メンバー管理画面からメンバーの編集画面を開く
  And 招待ボタンをタップする
  Then 招待コードが生成される
  And 招待コードが表示される
  And 招待コードの有効期限が24時間後に設定される

Scenario: アカウント登録時に招待コードを使用
  Given 招待コードが生成されている
  And 招待を受けた人がアプリで新規登録してログインする
  When 招待コード入力の選択肢を選択し有効な招待コードを入力する
  Then 招待元のメンバーに自動的に紐づけられる

Scenario: 無効な招待コードでアクセス
  Given 招待コードの有効期限が切れている
  And 招待を受けた人がアプリで新規登録してログインする
  When 招待コード入力の選択肢を選択し有効な招待コードを入力する
  Then エラーメッセージ「招待コードが無効です」が表示される
```

## 3. ユーザーとして、グループを作成したい。友人や家族と記録を共有したいから

```gherkin
Scenario: グループ作成画面の表示
  Given ユーザーがログイン済みの状態でグループ管理画面にアクセスしている
  When ユーザーが「グループ作成」ボタンをタップする
  Then グループ作成画面が表示される

Scenario: 有効なグループ名でグループ作成
  Given ユーザーがログイン済みの状態でグループ作成画面にアクセスしている
  When ユーザーが「家族」というグループ名を入力する
  And 作成ボタンをタップする
  Then グループが作成される
  And 作成したグループが所属グループ一覧に表示される

Scenario: 空のグループ名でグループ作成失敗
  Given ユーザーがログイン済みの状態でグループ追加画面にアクセスしている
  When ユーザーが空のグループ名を入力する
  And 作成ボタンをタップする
  Then エラーメッセージ「グループ名は必須です」が表示される
  And グループは作成されない
```

## 4. ユーザーとして、作成したグループには必ず自分を所属させたい。自分が所属しないグループを管理することはないから

```gherkin
Scenario: グループ作成時に自分を自動的に所属させる
  Given ユーザーがログイン済みの状態でグループ追加画面にアクセスしている
  When ユーザーが「家族」というグループ名を入力する
  And 作成ボタンをタップする
  Then グループが作成される
  And ユーザーは自動的にグループ「家族」に所属する
  And 所属グループ一覧に「家族」が表示される
```

## 5. ユーザーとして、作成したグループを管理したい。グループ情報を最新に保ちたいから

```gherkin
Scenario: 自分が作成したグループの一覧表示
  Given ユーザーがログイン済みで自分が作成したグループ「家族」が存在している
  When ユーザーがグループ管理画面にアクセスする
  Then 作成したグループの一覧が表示される
  And 各グループの名前が表示される
  And グループ名順に並び替えられている

Scenario: グループ編集画面を開く
  Given ユーザーがログイン済みで自分が作成したグループ「家族」が存在している
  And ユーザーがグループ管理画面を開いている
  When ユーザーがグループ一覧から「家族」をタップする
  Then グループ編集画面が表示される

Scenario: グループ名を変更する
  Given ユーザーがグループ編集画面を開いている
  When グループ名を「家族・親戚」に変更する
  And 保存ボタンをタップする
  Then グループ名が「家族・親戚」に更新される
  And グループ一覧に更新されたグループ名が表示される

Scenario: 自分が作成したグループの削除
  Given ユーザーがログイン済みで自分が作成したグループ「家族」が存在している
  And ユーザーがグループ管理画面を開いている
  When ユーザーがグループ一覧から「家族」の削除ボタンをタップする
  And 確認ダイアログ「本当に削除しますか？」で「はい」を選択する
  Then グループ「家族」が削除される
```

## 6. ユーザーとして、メンバーを作成したい。グループに誰が入っているかを管理したいから

```gherkin
Scenario: メンバー作成画面の表示
  Given ユーザーがログイン済みの状態でメンバー管理画面にアクセスしている
  When ユーザーが「メンバー作成」ボタンをタップする
  Then メンバー作成画面が表示される

Scenario: 有効なメンバー名でメンバー作成
  Given ユーザーがログイン済みの状態でメンバー作成画面にアクセスしている
  When ユーザーが「太郎」という表示名を入力する
  And 作成ボタンをタップする
  Then メンバーが作成される
  And 作成したメンバーがメンバー一覧に表示される

Scenario: 作成したメンバーをグループに追加
  Given ユーザーがログイン済みで「太郎」というメンバーが存在している
  And 「家族」というグループが存在している
  When ユーザーがグループ「家族」のグループ編集画面にアクセスする
  And メンバー「太郎」を選択する
  And 追加ボタンをタップする
  Then メンバー「太郎」がグループ「家族」に追加される

Scenario: 1つのメンバーを複数のグループに追加
  Given ユーザーがログイン済みで「太郎」というメンバーが存在している
  And 「家族」と「友人」というグループが存在している
  When ユーザーがメンバー「太郎」をグループ「家族」に追加する
  And メンバー「太郎」をグループ「友人」に追加する
  Then メンバー「太郎」が両方のグループに所属する

Scenario: 空の表示名でメンバー作成失敗
  Given ユーザーがログイン済みの状態でメンバー作成画面にアクセスしている
  When ユーザーが表示名を空にする
  And 作成ボタンをタップする
  Then エラーメッセージ「表示名を入力してください」が表示される
  And メンバーは作成されない
```

## 7. ユーザーとして、作成したメンバーを管理したい。メンバー情報を最新に保ちたいから

```gherkin
Scenario: 自分が作成したメンバーの一覧表示
  Given ユーザーがログイン済みで自分が作成したメンバーが存在している
  When ユーザーがメンバー管理画面にアクセスする
  Then 作成したメンバーの一覧が表示される
  And 各メンバーの表示名が表示される
  And メンバーは表示名順に並び替えられている

Scenario: メンバー編集画面を開く
  Given ユーザーがログイン済みで自分が作成したメンバー「太郎」が存在している
  And ユーザーがメンバー管理画面を開いている
  When ユーザーがメンバー一覧から「太郎」をタップする
  Then メンバー編集画面が表示される

Scenario: メンバーの表示名を変更する
  Given ユーザーがメンバー編集画面を開いている
  When グループ名を「太郎くん」に変更する
  And 保存ボタンをタップする
  Then グループ名が「太郎くん」に更新される
  And 所属グループ一覧に更新されたグループ名が表示される

Scenario: 自分が作成したグループの削除
  Given ユーザーがログイン済みで自分が作成したメンバー「太郎」が存在している
  And ユーザーがメンバー管理画面を開いている
  When ユーザーがメンバー一覧から「太郎」の削除ボタンをタップする
  And 確認ダイアログ「本当に削除しますか？」で「はい」を選択する
  Then メンバー「太郎」が削除される
```

## 8. ユーザーとして、年表形式でグループの旅行、イベント、メンバー別のイベントを見たい。時系列でグループの記録を整理したいから

```gherkin
Scenario: 選択したグループの年表表示
  Given ユーザーがログイン済みでグループ「家族」を登録している
  When ユーザーがグループ「家族」の年表画面にアクセスする
  Then グループ「家族」の年表が表示される
  And グループの年表が時系列で表示される
  And 旅行、イベント・メンバー別のイベントの行が表示される
  And 年単位で列分割されている

Scenario: 過去・現在・未来の年の表示
  Given ユーザーがログイン済みで年表画面にアクセスしている
  When ユーザーが年表を確認する
  Then 過去の年が表示される
  And 現在の年が表示される
  And 未来の年が表示される

Scenario: 年表上での旅行表示
  Given ユーザーがログイン済みで所属グループの旅行に「沖縄旅行」が存在している
  When ユーザーが所属グループの年表画面にアクセスする
  Then 年表上の旅行行に旅行「沖縄旅行」が表示される

Scenario: 旅行の行の表示領域の調整
  Given ユーザーがログイン済みで所属グループの旅行が10件以上存在している
  When ユーザーが所属グループの年表画面にアクセスする
  When ユーザーが年表画面で行の高さをドラッグで変更する
  Then 表示しきれていなかった旅行が見えるようになる

Scenario: 年表上でのイベント表示
  Given ユーザーがログイン済みで所属グループのイベント「運動会」が存在している
  When ユーザーが所属グループの年表画面にアクセスする
  Then 年表上のイベントの行にイベント「運動会」が表示される

Scenario: イベントの行の表示領域の調整
  Given ユーザーがログイン済みで所属グループのイベントが10件以上存在している
  When ユーザーが所属グループの年表画面にアクセスする
  When ユーザーが年表画面で行の高さをドラッグで変更する
  Then 表示しきれていなかったイベントが見えるようになる

Scenario: 年表上でのメンバー別のイベント表示
  Given ユーザーがログイン済みで所属グループのメンバー「太郎」のイベント「誕生日」が存在している
  When ユーザーが所属グループの年表画面にアクセスする
  Then 年表上のメンバー別のイベントの行にイベント「誕生日」が表示される

Scenario: メンバー別のイベント行の表示領域の調整
  Given ユーザーがログイン済みで所属グループのメンバーのイベントが10件以上存在している
  When ユーザーが所属グループの年表画面にアクセスする
  When ユーザーが年表画面で行の高さをドラッグで変更する
  Then 表示しきれていなかったイベントが見えるようになる
```

## 9. ユーザーとして、自分の管理外で自分が入っているグループの年表も見たい。別の人がグループを作ることもあるから

```gherkin
Scenario: 所属グループが一覧に表示される
  Given ユーザーがログイン済みの状態でアプリにアクセスしている
  And ユーザーが「家族」と「友人」というグループに所属している
  When ユーザーがグループ年表画面にアクセスする
  Then グループ一覧に「家族」と「友人」が表示される
  And 各グループの名前が表示される
  And グループ名順で並び替えされている

Scenario: 所属グループが存在しない場合
  Given ユーザーがログイン済みの状態でアプリにアクセスしている
  And ユーザーがどのグループにも所属していない
  When ユーザーがグループ年表画面にアクセスする
  Then 「所属しているグループはありません」というメッセージが表示される
```

## 10. ユーザーとして、年表から旅行を管理したい。旅行は年別に分かれていると整理しやすいから

```gherkin
Scenario: 旅行管理画面の表示
  Given ユーザーがログイン済みでグループを登録している
  And ユーザーが年表画面を開いている
  When ユーザーが年表の旅行の行のいずれかの年のセルをタップする
  Then 旅行一覧が表示される
  And 各旅行名が表示される
  And 旅行は日付順に並び替えられている

Scenario: 旅行の追加
  Given ユーザーがログイン済みでグループを登録している
  And ユーザーが年表画面から旅行管理画面を開いている
  When ユーザーが「旅行追加」ボタンをタップする
  And 旅行名「沖縄旅行」、開始日「2024-01-01」、終了日「2024-01-03」を入力する
  And 作成ボタンをタップする
  Then 旅行が登録される
  And 旅行一覧に追加した旅行が表示される
  And 年表に追加した旅行が表示される

Scenario: 必須項目未入力で旅行追加失敗
  Given 旅行追加画面を開いている
  When ユーザーが旅行名を空にする
  And 保存ボタンをタップする
  Then エラーメッセージ「旅行名は必須です」が表示される
  And 旅行は作成されない

Scenario: 開始日が終了日より後の場合の旅行追加失敗
  Given 旅行追加画面を開いている
  When ユーザーが旅行名「沖縄旅行」、開始日「2024-01-03」、終了日「2024-01-01」を入力する
  And 作成ボタンをタップする
  Then エラーメッセージ「開始日は終了日より前の日付を入力してください」が表示される
  And 旅行は作成されない

Scenario: 旅行の編集
  Given ユーザーがログイン済みで所属グループの旅行に「沖縄旅行」が存在している
  And ユーザーが年表画面から旅行「沖縄旅行」が登録された年の旅行管理画面を開いている
  When ユーザーが旅行「沖縄旅行」をタップする
  And 旅行名を「沖縄旅行2024」に変更する
  And 保存ボタンをタップする
  Then 旅行名が更新される
  And 旅行一覧に更新された旅行名が表示される
  And 年表に更新された旅行名が表示される

Scenario: 自分が作成した旅行の削除
  Given ユーザーがログイン済みで所属グループの旅行に「沖縄旅行」が存在している
  And ユーザーが年表画面から旅行「沖縄旅行」が登録された年の旅行管理画面を開いている
  When ユーザーが旅行「沖縄旅行」の削除ボタンをタップする
  And 確認ダイアログで「はい」を選択する
  Then 旅行「沖縄旅行」が削除される
  And 旅行一覧から旅行が削除される
  And 年表から旅行が削除される
```

## 11. ユーザーとして、旅行で訪問する場所を登録したい。地図上で旅行した場所を確認したいから

```gherkin
Scenario: 旅行に訪問場所を追加（地図表示）
  Given ユーザーがログイン済みで旅行「沖縄旅行」が存在している
  When ユーザーが旅行「沖縄旅行」の編集画面にアクセスする
  And 訪問場所追加ボタンをタップする
  Then 画面が上下分割され、下半分にマップが表示される

Scenario: 旅行に訪問場所を追加（マップ検索）
  Given ユーザーがログイン済みで旅行「沖縄旅行」が存在している
  And ユーザーが旅行「沖縄旅行」の編集画面で訪問場所追加を実行し、マップが表示されている
  When ユーザーが「首里城」で検索する
  And 検索結果から「首里城」を選択する
  Then マップ上に「首里城」の位置がピンで表示される
  And 編集画面の訪問場所にピンが追加される

Scenario: 旅行に訪問場所を追加（マップ上手動）
  Given ユーザーがログイン済みで旅行「沖縄旅行」が存在している
  And ユーザーが旅行「沖縄旅行」の編集画面で位置情報追加を実行し、マップが表示されている
  When ユーザーがマップ上で任意の位置をタップする
  Then 編集画面の訪問場所にピンが追加される

Scenario: 複数の訪問場所を追加
  Given ユーザーがログイン済みで旅行「沖縄旅行」が存在している
  When ユーザーが旅行「沖縄旅行」に「首里城」の訪問場所を追加する
  And 旅行「沖縄旅行」に「美ら海水族館」の訪問場所を追加する
  Then 両方の訪問場所が旅行に追加される

Scenario: 訪問場所の訪問日時の設定
  Given ユーザーがログイン済みで旅行「沖縄旅行」が存在している
  And 訪問場所に「首里城」が追加されている
  When ユーザーが訪問場所「首里城」の訪問日時を「2024-01-02」に設定する
  Then 訪問場所の訪問日時が「2024-01-02」に更新される
```

## 12. ユーザーとして、旅行で訪問する場所間の移動経路を確認したい。旅行の計画を立てやすくしたいから

```gherkin
Scenario: 訪問場所間の移動経路表示
  Given ユーザーがログイン済みで旅行「沖縄旅行」が存在している
  And 訪問場所に「那覇空港」「首里城」「美ら海水族館」が追加されている
  When ユーザーが旅行「沖縄旅行」の編集画面で地図表示を開く
  Then マップ上に「那覇空港」「首里城」「美ら海水族館」間の移動経路が表示される 
```

## 13. ユーザーとして、旅行先を地図で確認したい。場所を視覚的に把握したいから

```gherkin
Scenario: 地図上で旅行先の位置表示
  Given ユーザーがログイン済みで旅行「沖縄旅行」が存在している
  And 旅行「沖縄旅行」に「首里城」の位置情報が追加されている
  When ユーザーが地図表示にアクセスする
  Then 地図上で「首里城」の位置がピンで表示される

Scenario: ピンタップで旅行詳細情報表示
  Given ユーザーがログイン済みで地図表示にアクセスしている
  And 地図上に「首里城」のピンが表示されている
  When ユーザーが「首里城」のピンをタップする
  Then 旅行「沖縄旅行」の詳細情報が表示される
  And 訪問期間とメモが表示される

Scenario: 過去の旅行先の地図表示
  Given ユーザーがログイン済みで複数の旅行が存在している
  And 各旅行に位置情報が追加されている
  When ユーザーが地図表示にアクセスする
  Then 過去の旅行先がすべて地図上に表示される
  And 各旅行先がピンで表示される

Scenario: 地図の操作
  Given ユーザーがログイン済みで地図表示にアクセスしている
  When ユーザーが地図をピンチ/ドラッグする
  Then 地図が拡大・縮小/移動される

Scenario: 位置情報の検索
  Given ユーザーがログイン済みで地図表示にアクセスしている
  When ユーザーが検索ボックスに「首里城」と入力する
  And 検索ボタンをタップする
  Then 「首里城」の位置に地図が移動する
```

## 14. ユーザーとして、同じ場所の過去の記録を見たい。お気に入りの場所は何度も訪れることがあるから

```gherkin
Scenario: 同じ場所の訪問記録の一覧表示
  Given ユーザーがログイン済みで「首里城」の位置情報が複数の旅行に追加されている
  When ユーザーがマップで「首里城」のピンをタップする
  Then 「首里城」を訪問した過去の旅行が一覧表示される
  And 時系列順で表示される
```

## 15. ユーザーとして、同一の旅行で訪問した場所をまとめて表示したい。旅行の全体像を把握したいから

```gherkin
Scenario: 同一旅行の位置情報一覧表示
  Given ユーザーがログイン済みで旅行「沖縄旅行2024」が存在している
  And 旅行「沖縄旅行2024」に「首里城」と「美ら海水族館」の位置情報が追加されている
  When ユーザーがマップで「首里城」のピンをタップする
  And 「首里城」を訪問した旅行一覧から「沖縄旅行2024」をタップする
  Then 「沖縄旅行2024」で訪問した位置情報のピンが地図上にまとめて表示される
```

## 16. ユーザーとして、地図表示からも旅行情報を編集したい。場所から旅行を探すこともあるから

```gherkin
Scenario: 地図表示から旅行情報の編集
  Given ユーザーがログイン済みで旅行「沖縄旅行2024」が存在している
  And 旅行「沖縄旅行2024」に「首里城」の位置情報が追加されている
  When ユーザーがマップで「首里城」のピンをタップする
  And 「首里城」を訪問した旅行一覧から「沖縄旅行2024」をタップする
  Then 地図上に「旅行詳細」ボタンが表示される
  And 「旅行詳細」ボタンタップで旅行管理画面へ遷移する
```

## 17. ユーザーとして、過去の旅行を検索したい。年表から探し出すのは大変だから

```gherkin
Scenario: 旅行名による検索
  Given ユーザーがログイン済みで旅行検索画面にアクセスしている
  And 旅行が登録されている
  When ユーザーが旅行名の検索ボックスに「沖縄」と入力する
  Then 「沖縄」を含む旅行が検索結果一覧に表示される

Scenario: 日付範囲でのフィルタリング
  Given ユーザーがログイン済みで旅行検索画面にアクセスしている
  And 旅行が登録されている
  When ユーザーが「2024年1月1日」から「2024年12月31日」の範囲を選択する
  Then 2024年の旅行が検索結果一覧に表示される

Scenario: メンバー名でのフィルタリング
  Given ユーザーがログイン済みで旅行検索画面にアクセスしている
  And 旅行が登録されている
  When ユーザーがメンバー名の検索ボックスに「太郎」と入力する
  Then メンバー名「太郎」が所属するグループの旅行が検索結果一覧に表示される

Scenario: 検索結果が存在しない場合
  Given ユーザーがログイン済みで旅行検索画面にアクセスしている
  And 旅行が登録されている
  When ユーザーが旅行名の検索ボックスに存在しない旅行名を入力する
  Then 「該当する旅行は見つかりませんでした」というメッセージが表示される
```

## 18. ユーザーとして、年表からイベントを作成したい。イベントは年別に分かれていると整理しやすいから

```gherkin
Scenario: イベント管理画面の表示
  Given ユーザーがログイン済みでグループを登録している
  And ユーザーが年表画面を開いている
  When ユーザーが年表のイベントの行のいずれかの年のセルをタップする
  Then イベント一覧が表示される
  And 各イベント名が表示される
  And イベントは日付順に並び替えられている

Scenario: イベントの追加
  Given ユーザーがログイン済みでグループを登録している
  And ユーザーが年表画面からイベント管理画面を開いている
  When ユーザーが「イベント追加」ボタンをタップする
  Then イベント名「運動会」、日付「2024-10-11」を入力する
  And 作成ボタンをタップする
  Then イベントが登録される
  And 旅行一覧に追加したイベントが表示される
  And 年表に追加したイベントが表示される

Scenario: 必須項目未入力でイベント追加失敗
  Given イベント追加画面を開いている
  When ユーザーがイベント名を空にする
  And 保存ボタンをタップする
  Then エラーメッセージ「イベント名は必須です」が表示される
  And イベントは作成されない

Scenario: イベントの編集
  Given ユーザーがログイン済みで所属グループのイベントに「運動会」が存在している
  And ユーザーが年表画面からイベント「運動会」が登録された年のイベント管理画面を開いている
  When ユーザーがイベント「運動会」をタップする
  And イベント名を「太郎の運動会」に変更する
  And 保存ボタンをタップする
  Then イベントが更新される
  And イベント一覧に更新されたイベント名が表示される
  And 年表に更新されたイベント名が表示される

Scenario: 自分が作成したイベントの削除
  Given ユーザーがログイン済みで所属グループのイベントに「運動会」が存在している
  And ユーザーが年表画面からイベント「運動会」が登録された年のイベント管理画面を開いている
  When ユーザーがイベント「運動会」の削除ボタンをタップする
  And 確認ダイアログで「はい」を選択する
  Then イベント一覧からイベントが削除される
  And 年表からイベントが削除される
```
